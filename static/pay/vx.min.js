var demo_vx=function(){let e=demo,o="1.4.0",t=e.options.prefix+"-vx-config-"+o.replace(/\./g,""),n=function(e){let o={share:["updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo"],image:["chooseImage","previewImage","uploadImage","downloadImage","getLocalImgData"],audio:["startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","translateVoice"],geo:["openLocation","getLocation"],default:["getNetworkType","scanQRCode"]};return o[e]?o[e]:o.default},i=function(e,o){let t=D("plug")||[];if(t.indexOf("chooseImage")<0)return e&&e(E("不支持 chooseImage")),"";wx.chooseImage({count:o||9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(o){var t=o.localIds;t.length&&e&&e(t)}})},a=function(e,o){let t=D("plug")||[];if(t.indexOf("previewImage")<0)return o&&o(E("不支持 previewImage")),"";e=e||{},wx.previewImage({current:e.src||"",urls:e.list||[]})},c=function(e,o){let t=D("plug")||[];if(t.indexOf("uploadImage")<0)return o&&o(E("不支持 uploadImage")),"";e=e||{},wx.uploadImage({localId:e.id||"",isShowProgressTips:1,success:function(e){o&&o(E("serverId",1,e))}})},s=function(e,o){let t=D("plug")||[];if(t.indexOf("downloadImage")<0)return o&&o(E("不支持 downloadImage")),"";e=e||{},wx.downloadImage({serverId:e.id||"",isShowProgressTips:1,success:function(e){o&&o(E("localId",1,e))}})},r=function(e,o){let t=D("plug")||[];if(t.indexOf("getLocalImgData")<0)return o&&o(E("不支持 getLocalImgData")),"";e=e||{},wx.getLocalImgData({localId:e.id||"",success:function(e){o&&o(E("localData",1,e))}})},d=function(e){let o=D("plug")||[];if(o.indexOf("startRecord")<0)return e&&e(E("不支持 startRecord")),"";wx.startRecord(),e&&e(E("",1))},u=function(e){let o=D("plug")||[];if(o.indexOf("stopRecord")<0)return e&&e(E("不支持 stopRecord")),"";wx.stopRecord({success:function(o){e&&e(E("localId",1,o))}})},l=function(e){let o=D("plug")||[];if(o.indexOf("onVoiceRecordEnd")<0)return e&&e(E("不支持 onVoiceRecordEnd")),"";wx.onVoiceRecordEnd({complete:function(o){e&&e(E("localId",1,o))}})},p=function(e,o){let t=D("plug")||[];if(t.indexOf("playVoice")<0)return o&&o(E("不支持 playVoice")),"";e=e||{},wx.playVoice({localId:e.id||""})},g=function(e,o){let t=D("plug")||[];if(t.indexOf("pauseVoice")<0)return o&&o(E("不支持 pauseVoice")),"";e=e||{},wx.pauseVoice({localId:e.id||""})},f=function(e,o){let t=D("plug")||[];if(t.indexOf("stopVoice")<0)return o&&o(E("不支持 stopVoice")),"";e=e||{},wx.stopVoice({localId:e.id||""})},m=function(e){let o=D("plug")||[];if(o.indexOf("onVoicePlayEnd")<0)return e&&e(E("不支持 onVoicePlayEnd")),"";wx.onVoicePlayEnd({success:function(o){e&&e(E("",1,o))}})},w=function(e,o){let t=D("plug")||[];if(t.indexOf("uploadVoice")<0)return o&&o(E("不支持 uploadVoice")),"";e=e||{},wx.uploadVoice({localId:e.id||"",isShowProgressTips:1,success:function(e){o&&o(E("serverId",1,e))}})},x=function(e,o){let t=D("plug")||[];if(t.indexOf("downloadVoice")<0)return o&&o(E("不支持 downloadVoice")),"";e=e||{},wx.downloadVoice({serverId:e.id||"",isShowProgressTips:1,success:function(e){o&&o(E("localId",1,e))}})},I=function(e,o){let t=D("plug")||[];if(t.indexOf("translateVoice")<0)return o&&o(E("不支持 translateVoice")),"";e=e||{},wx.translateVoice({localId:e.id||"",isShowProgressTips:1,success:function(e){o&&o(E("translateResult",1,e))}})},y=function(e,o){let t=D("plug")||[];if(t.indexOf("getLocation")<0)return e&&e(E("不支持 getLocation")),"";wx.getLocation({type:o||"gcj02",success:function(o){e&&e({lat:o.latitude,lng:o.longitude,speed:o.speed,acc:o.accuracy})}})},h=function(e,o){let t=D("plug")||[];if(t.indexOf("openLocation")<0)return o&&o(E("不支持 openLocation")),"";e=e||{},wx.openLocation({latitude:e.lat||0,longitude:e.lng||0,name:e.name||"",address:e.address||"",scale:e.scale||1,infoUrl:e.url||""})},V=function(e){let o=D("plug")||[];if(o.indexOf("getNetworkType")<0)return e&&e(E("不支持 getNetworkType")),"";wx.getNetworkType({success:function(o){e&&e(E("networkType",1,o))}})},R=function(e,o){let t=D("plug")||[];if(t.indexOf("scanQRCode")<0)return e&&e(E("不支持 scanQRCode")),"";wx.scanQRCode({needResult:1*!!o,scanType:["qrCode","barCode"],success:function(o){e&&e(E("resultStr",1,o))}})},S=function(e,o){let t={appId:e.appid,timeStamp:e.timeStamp+"",nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.sign};WeixinJSBridge.invoke("getBrandWCPayRequest",t,function(e){let t=(e.err_msg+"").replace("get_brand_wcpay_request:","");o(E("ok"===t?"支付成功":"cancel"===t?"取消支付":"支付失败","ok"===t,e))})},v=function(e,o,t){this.check(e,o,e=>{t(e)})},O=function(o,t){let n=D("appId");if(!n)return t&&t(E("appid is null")),"";o=e.copy(Object.assign({link:window.location.href.replace(window.location.search,"").replace(window.location.hash,""),data:e.options.prefix,type:0},o||{}));let i="https://open.weixin.qq.com/connect/oauth2/authorize?"+_({appid:n,redirect_uri:encodeURI(o.link),response_type:"code",scope:["snsapi_userinfo","snsapi_base"][o.type],state:o.data})+"#wechat_redirect";window.location.replace(i)},k=e=>{var o=navigator.userAgent.match(/micromessenger\/(\d+\.\d+\.\d+)/i)||[];o=o[1]||"";let t=(o+"").split(".");return t=t.filter(e=>""!==e),e>0?1*t[0]>=e:t},L=function(e,o,t){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this[e](o,t),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this[e](o,t)),document.attachEvent("onWeixinJSBridgeReady",this[e](o,t))):this[e](o,t)},T=!1,E=(e,o,t)=>(T&&P(e),{err:e||"",code:!!o,data:t||{}}),P=o=>e.log("console",1).log(o).log(0,3),b=o=>{e.$session.set(t,{time:Date.now()+864e6,item:o})},D=o=>{let n=e.$session.get(t)||{};return n.time&&n.time>Date.now()?(n=n.item,void 0!==n[o]?n[o]:""):""},_=function(e){let o="";return Object.keys(e).forEach(t=>{o+=t+"="+e[t]+"&"}),o=o.substring(0,o.length-1),o},W=(e,o,t,i)=>{if(!k(5))return t&&t(E("微信版本过低")),0;i||(i=n("share")),wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:i}),wx.ready(()=>{e.plug=i,b(e),o&&o()}),wx.error(e=>{t&&t(E("微信加载失败",0,e))})},C=(e,o)=>{let t=e.type,i=[];switch(t){case"share":case"image":case"default":case"geo":case"audio":i=n(t);break;default:i=e.list||[]}e.key&&e.key.appId?W(e.key,()=>{o(E("",1,i))},e=>{o(e)},i):o&&o(E("config.key.appId is null"))};return{debug:T,check:L,use:v,version:k,init:W,plug:C,image:i,imageUpload:c,imageDown:s,imageView:a,imageGet:r,music:d,musicDown:x,musicListen:I,musicPause:g,musicPlay:p,musicPlayStop:f,musicPlayWatch:m,musicStop:u,musicUpload:w,musicWatch:l,geo:y,geoOpen:h,state:V,qr:R,pay:S,auth:O}};